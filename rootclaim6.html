<!doctype html>
<meta charset=utf-8>
<meta name=viewport content=width=device-width,initial-scale=1.0>
<style>
body{background:#2f2f2f;color:white;text-align:center}
p,pre,ul,li,blockquote,table,dl{text-align:left}
body,td,th{font:14.5px/1.33 Arial,Helvetica,'Liberation Sans',sans-serif}
p{max-width:500px;margin:1em auto}
dl,pre{margin:1em auto;width:fit-content;max-width:min(100%, 1000px);box-sizing:border-box}
hr{border:none;border-top: 2px solid #bbb;margin:1em auto;max-width:500px}
ul,ol{width:min(100%, 500px);margin:1em auto;box-sizing:border-box}
ul ul,ul ol,ol ol,ol ul{margin-top:0;margin-bottom:0}
h1,h2,h3,h2 a,h3 a,h2 a:visited,h3 a:visited{color:white;font-weight:normal}
h1{font-size:2.1em;margin:.7em 0 .5em 0}
h2{font-size:1.75em}
h3{font-size:1.35em}
blockquote h2,blockquote h3{margin:.5em 0}
blockquote ul,blockquote ol{margin:.4em 0}
a,a .quote{color:hsl(220,100%,75%)}
a:visited,a .quote{color:hsl(270,100%,75%)}
pre,code{white-space:pre-wrap;word-wrap:break-word;font:13.6px Menlo,'DejaVu Sans Mono','Liberation Mono',Consolas,monospace;background:#4a4a4a;color:white}
pre{padding:4px}
code{padding:1px}
table{border-collapse:collapse;margin:0 auto}
td,th{border:1px solid #555;padding:1px 3px}
th{background:#444;font-weight:bold}
img{max-width:100%;margin:0;vertical-align:middle}
div:has(img){width:fit-content;margin:0 auto}
dt{font-size:1.3em;margin:.4em 0}
body>blockquote{margin:1em auto;padding-left:45px;width:465px}
blockquote blockquote{width:calc(100% - 45px);margin-left:45px;box-sizing:border-box}
blockquote>:first-child{margin-top:0}
blockquote>:last-child{margin-bottom:0}
blockquote,.quote,em{color:hsl(100,100%,88%)}
blockquote blockquote,blockquote .quote,.quote .quote,blockquote em,.quote em,em .quote{color:hsl(100,50%,67%)}
blockquote blockquote blockquote,blockquote blockquote .quote,blockquote .quote .quote,.quote .quote .quote,blockquote blockquote em,blockquote .quote em,.quote .quote em,blockquote em .quote{color:hsl(100,38%,45%)}
blockquote blockquote blockquote blockquote,blockquote blockquote blockquote .quote,blockquote blockquote .quote .quote,blockquote blockquote blockquote em,blockquote blockquote .quote em,blockquote .quote .quote em,blockquote blockquote em .quote{color:hsl(100,28%,35%)}
blockquote h3{color:inherit}
.spoiler{max-width:1100px;margin:0 auto}
.spoiler button{width:90px;border:0;font-family:inherit;font-size:inherit;color:inherit;background:#4a4a4a;padding:4px 0px;outline:none;cursor:pointer;margin:0 0 -.3em 0}
.spoiler pre{display:none;margin-top:0;text-align:left}
.red,.red .quote{color:hsl(0,100%,77%)!important}
.comment{color:hsl(0,100%,80%)!important}
.dates{color:#ccc}
.toc{width:calc(50% + 250px);margin:1em 0 1em max(0px, 50% - 250px)}
.toc ul{width:min(100%, 50% + 250px - 40px);margin:0}
.maxwidth{max-width:100%}
.wide{width:min(100%, 1000px)}
@media print{
  body{background:white;color:black;margin:0px;zoom:.85;print-color-adjust:exact;-webkit-print-color-adjust:exact}
  a,a:visited{color:#0000EE}
  h1,h2,h2 a,h3 a,h2 a:visited,h3 a:visited{color:black}
  pre,code{background:#d6d6d6;color:black}
  th{background:#ddd}
  td,th{border:1px solid #ccc}
  blockquote,.quote{color:hsl(100,65%,28%)}
  blockquote .quote,blockquote blockquote,.quote .quote{color:hsl(100,50%,53%)}
  blockquote blockquote blockquote,blockquote .quote .quote,.quote .quote .quote{color:hsl(100,70%,72%)}
  .spoiler{display:none}
  .red,.red .quote{color:hsl(0,50%,60%)!important}
  .dates{color:#777}
}
</style>
<title>Rootclaim vaccine debate between Steve Kirsch and Saar Wilf (part 6)</title>
<h1>Rootclaim vaccine debate between Steve Kirsch and Saar Wilf (part 6) - <a href=index.html>sars2.net</a></h1><div class=dates>First published 2025-10-22 UTC, last modified 2025-10-28 UTC</div><p>Other parts: <a href=rootclaim.html>rootclaim.html</a>,
<a href=rootclaim2.html>rootclaim2.html</a>,
<a href=rootclaim3.html>rootclaim3.html</a>,
<a href=rootclaim4.html>rootclaim4.html</a>,
<a href=rootclaim5.html>rootclaim5.html</a>.</p>
<h2 id=Contents><a href=#Contents>Contents</a></h2>
<ul class=toc>
<li><a href="#Cumulative_deaths_in_Japanese_FOI_data">Cumulative deaths in Japanese FOI data</a></li>
<li><a href="#Mortality_that_follows_a_constant_minus_exponential_decay_is_inconsistent_with_vaccine_harm">Mortality that follows a constant minus exponential decay is inconsistent with vaccine harm</a></li>
<li><a href="#5_fold_static_HVE_in_Mirror_of_Erised_paper">5-fold static HVE in Mirror of Erised paper</a></li>
</ul>


<h2>
<a href=#Cumulative_deaths_in_Japanese_FOI_data id=Cumulative_deaths_in_Japanese_FOI_data>Cumulative
deaths in Japanese FOI data</a>
</h2>
<p>Kirsch posted the plot below and wrote: <span class="quote">"Every
time you compare the two cohorts, the more vaccinated cohort will have
mortality even though they tracked at the start. This is NOT NORMAL. If
they track at the start, they should continue to track. If the shots
worked, the more vaxxed cohort would exhibit LOWER mortality, not higher
mortality."</span>
[<a href=https://kirschsubstack.com/p/japan-cmrr-data-website-shows-clear>https://kirschsubstack.com/p/japan-cmrr-data-website-shows-clear</a>]</p>
<div>
<img src=i/rootclaim-jpcum-1.webp width=800>
</div>
<p>By <span class="quote">"mortality"</span>, Kirsch meant the
cumulative number of deaths multiplied by a constant factor, where he
chose the constant factor so that his two lines were roughly aligned at
the start of the x-axis. But if by mortality you mean ASMR instead, then
the 4-dose cohort has lower mortality than the 3-dose cohort even at the
end of the x-axis.</p>
<p>At the start of the x-axis, people with 4 doses have reduced
mortality because of the healthy vaccinee effect, and people with 3
doses have elevated mortality because of the straggler effect. But over
time the ASMR of the two cohorts converges.</p>
<p>Kirsch aligned the lines so that they matched at the start of the
x-axis, but when the line for dose 4 subsequently rose above the line
for dose 3, Kirsch attributed the increase to harm caused by vaccines.
But if you align the lines so that they match at the end of the x-axis
instead, then it rather looks like dose 3 has high mortality at the
start of the x-axis relative to dose 4, which can be explained by the
straggler effect:
[<a href=https://medicalfacts.info/kcor.rb>https://medicalfacts.info/kcor.rb</a>]</p>
<div>
<img src=i/rootclaim-jpcum-2.webp width=800>
</div>
<p>Kenji Fujikawa has now published CSV files of FOI data from 7 cities
here: <a href=https://fujikawa.org/pub/kkcor/.><a
href="https://fujikawa.org/pub/kkcor/"
class="uri">https://fujikawa.org/pub/kkcor/</a>.</a> I used his files to
make the next plot, which shows that in late 2022 when the 4th dose is
rolled out, the mortality of people with 3 but not more doses shoots up
because of the straggler effect. But by late 2023 the straggler effect
has weakened, so people with 3 but not more doses have almost as low
mortality as people with 4 or more doses:</p>
<div>
<img src=i/rootclaim-jpcum-4.webp width=550>
</div>
<div class="spoiler">
<button>
Show code
</button>
<pre>system(&quot;wget -rl1 -np -nd -Acsv fujikawa.org/pub/kkcor&quot;)

ma=\(x,b=1,f=b){x[]=rowMeans(embed(c(rep(NA,b),x,rep(NA,f)),f+b+1),na.rm=T);x}

t=do.call(rbind,lapply(Sys.glob(&quot;jp*WKA.csv&quot;),fread,fill=T))

date1=as.Date(&quot;2021-2-21&quot;);date2=as.Date(&quot;2024-6-30&quot;)

d=t[,.(.I,dead=date_death,age,dose=rep(0:4,each=.N),vax=c(rep(date1,.N),as.IDate(unlist(.SD,,F)))),.SDcols=patterns(&quot;date_dose[1-4]&quot;)]
d=d[!is.na(vax)]
d=d[dose!=2][dose&gt;2,dose:=dose-1]

e=d[,.(pop=.N),.(date=vax,age,dose)]
e=rbind(e,e[dose&gt;0][,.(pop=-pop,dose=dose-1,date,age)])
dead=d[!is.na(dead)][.N:1][rowid(I)==1,.(dead=.N),.(age,dose,date=dead)]
e=rbind(e,dead[,.(age,dose,date=date+7,pop=-dead)])
e=merge(e,dead,all=T)
e=e[date&gt;=date1&amp;date&lt;=date2]
a=merge(do.call(CJ,lapply(e[,1:3],unique)),e,all=T);a[is.na(a)]=0

a[,pop:=cumsum(pop),.(dose,age)]

a[,`:=`(dead=ma(dead,2),pop=ma(pop,2)),.(dose,age)]

a[,base:=pop*a[,sum(dead)/sum(pop),age]$V1[factor(age)]]

a=rbind(a,a[dose&gt;0][,dose:=4],copy(a)[,dose:=5])
a=a[,.(dead=sum(dead),pop=sum(pop),base=sum(base)),.(dose,age,date)]

p=a[,.(y=ifelse(sum(pop)&lt;1e3,NA_real_,sum(dead)/sum(base))),.(x=date-3,z=dose)]

lab=c(&quot;Unvaccinated&quot;,&quot;Dose 1-2&quot;,&quot;Dose 3&quot;,&quot;Dose 4+&quot;,&quot;All vaccinated&quot;,&quot;All people&quot;)
color=c(hsv(c(0,27/36,21/36,1/3),c(.4,.4,.7,.7),c(.9,.9,.7,.7)),&quot;gray60&quot;,&quot;black&quot;)
p[,z:=factor(z,,lab)]

xstart=as.Date(&quot;2021-1-1&quot;);xend=as.Date(&quot;2025-1-1&quot;);xbreak=seq(xstart+182,xend,&quot;year&quot;)
ystart=0;yend=max(p$y,na.rm=T);ybreak=0:yend
ylim=p[,.(max=max(y,na.rm=T))]

ggplot(p)+
geom_hline(yintercept=ybreak,color=&quot;gray91&quot;,linewidth=.4)+
geom_rect(data=ylim,aes(ymax=max),xmin=xstart,xmax=xend,ymin=ystart,lineend=&quot;square&quot;,linejoin=&quot;mitre&quot;,fill=NA,color=&quot;gray72&quot;,linewidth=.4)+
geom_hline(yintercept=1,color=&quot;gray72&quot;,linewidth=.4)+
geom_vline(xintercept=seq(xstart,xend,&quot;year&quot;),color=&quot;gray72&quot;,linewidth=.4)+
geom_line(aes(x,y,color=z),linewidth=.65)+
labs(x=NULL,y=NULL,title=&quot;Weekly ratio of observed to expected deaths in Japan FOI data\n(Â±2-week moving average)&quot;)+
scale_x_date(limits=c(xstart,xend),breaks=xbreak,labels=year(xbreak))+
scale_y_continuous(limits=c(0,yend),breaks=ybreak)+
scale_color_manual(values=color)+
coord_cartesian(clip=&quot;off&quot;,expand=F)+
guides(color=guide_legend(row=2,byrow=F))+
theme(axis.text=element_text(size=11,color=&quot;gray50&quot;),
  axis.ticks.length=unit(0,&quot;pt&quot;),
  legend.background=element_blank(),
  legend.box.background=element_blank(),
  legend.box.spacing=unit(0,&quot;pt&quot;),
  legend.key=element_blank(),
  legend.key.height=unit(12,&quot;pt&quot;),
  legend.key.spacing.x=unit(2,&quot;pt&quot;),
  legend.key.spacing.y=unit(0,&quot;pt&quot;),
  legend.key.width=unit(24,&quot;pt&quot;),
  legend.margin=margin(,,3),
  legend.position=&quot;top&quot;,
  legend.spacing.x=unit(2,&quot;pt&quot;),
  legend.spacing.y=unit(0,&quot;pt&quot;),
  legend.text=element_text(size=11,vjust=.5,margin=margin(,,3)),
  legend.title=element_blank(),
  panel.background=element_blank(),
  panel.grid=element_line(),
  plot.title=element_text(size=11,hjust=.5,face=2,margin=margin(,,3)))
ggsave(&quot;1.png&quot;,width=5.5,height=3.2,dpi=300*4)

system(&quot;mogrify -trim 1.png;magick 1.png \\( -size `identify -format %w 1.png`x -font Arial -interline-spacing -3 -pointsize $[42*4] caption:&#39;Source: fujikawa.org/pub/kkcor. Includes about 2.3 million people from the cities of Koganei, Sagamihara, Hamamatsu, Makinohara, Kasugai, Toyokawa, and Saiki. The expected number of deaths for each week was calculated by multiplying the number of people for each age group with the total mortality rate of the age group over the observation period (week 7 of 2021 to week 26 of 2024). Weeks with population size below 1,000 people are not shown. People were assigned a fixed 10-year age group so that aging over time was not accounted for, which causes the observed-to-expected ratio to be too high in 2024 relative to 2021.&#39; -splice x$[16*4] \\) -append -trim -resize 25% -bordercolor white -border 20 -dither none -colors 256 1.png&quot;)</pre>
</div>
<h2>
<a href=#Mortality_that_follows_a_constant_minus_exponential_decay_is_inconsistent_with_vaccine_harm id=Mortality_that_follows_a_constant_minus_exponential_decay_is_inconsistent_with_vaccine_harm>Mortality
that follows a constant minus exponential decay is inconsistent with
vaccine harm</a>
</h2>
<p>The mortality of vaccinated people as a function of time since
vaccination roughly follows a constant minus an exponential decay. The
mortality of unvaccinated people peaks during the rollout of the first
dose, but afterwards it falls following a curve roughly similar to an
exponential decay. In October 2025 Kirsch announced he had discovered a
third new type of HVE, which explained the drop in unvaccinated
mortality.
[<a href=https://kirschsubstack.com/p/surprise-there-are-actually-3-types>https://kirschsubstack.com/p/surprise-there-are-actually-3-types</a>]</p>
<p>Kirsch claims the mortality of vaccinated people increases over time
because of harm caused by vaccines. I'd expect vaccine harm a function
of time since vaccination to follow an exponential decay, so that the
curve would go down and not up over time, in the same way that a curve
for the number of deaths by time since a car crash would look something
like an exponential decay. If vaccination triggered the development of a
chronic disease like cancer, where it resulted in a multiplicative
increase in illness that in turn resulted in further illness, the curve
of deaths over time might look like an exponential increase.</p>
<p>Out of the following options, I'd expect harm caused by vaccines to
primarily fall under 2, or possibly to a lesser extent 3, but not 1:</p>
<ol type="1">
<li>If mortality by time since an event looks like a constant minus an
exponential decay, it's consistent with the event being associated with
a factor that reduces mortality, but the magnitude of the factor decays
over time.</li>
<li>If the event has an impact which results in a direct increase in
mortality, but the effect of the impact gets weaker over time, you'd
expect the curve to look like an exponential decay.</li>
<li>If the event initiates a long-lasting development which causes
mortality to increase over time multiplicatively, you'd expect to curve
to look like an exponential increase.</li>
</ol>
<p>I asked Grok:</p>
<blockquote>
<p>In human cohorts, give examples of events that result in the
following curves of mortality by time since the event:</p>
<ol type="1">
<li>Constant minus exponential decay</li>
<li>Exponential decay</li>
<li>Exponential increase</li>
</ol>
</blockquote>
<p>It answered:</p>
<blockquote>
<ol type="1">
<li><p>An example is starting employment in an occupational cohort,
where the healthy worker effect leads to initially lower mortality rates
due to health selection at hire, which then gradually increase over time
(e.g., 15 - 20 years) and approach the constant level of the general
population as the effect wears off.</p></li>
<li><p>An example is birth, where infant and early childhood mortality
rates are high immediately after birth but decline exponentially with
age during the first few years of life.</p></li>
<li><p>An example is reaching adulthood (approximately age 30), after
which mortality rates increase exponentially with advancing age,
following the Gompertz law of mortality.</p></li>
</ol>
</blockquote>
<p>When I asked Grok to give more examples of a constant minus
exponential decay, it replied:</p>
<blockquote>
<ul>
<li><p>Immigration to a new country, where the healthy migrant effect
leads to initially lower mortality rates among migrants compared to the
native population due to self-selection of healthier individuals, which
then gradually increase and approach or converge with host country rates
over time as the effect diminishes.</p></li>
<li><p>Becoming a blood donor, where the healthy donor effect results in
lower mortality rates initially due to health screening and selection
criteria excluding unhealthy individuals, with rates approaching those
of the general population over extended periods.</p></li>
<li><p>Participating as a volunteer in epidemiological or health
studies, where the healthy volunteer effect causes lower initial
mortality among participants due to self-selection of healthier
individuals, which then rises toward general population levels as the
cohort ages and the selection bias fades.</p></li>
</ul>
</blockquote>
<p>When I asked ChatGPT to list phenomena in various sciences that
follow a function of constant minus exponential decay, and to group them
under categories like a return to an equilibrium, diminishing returns
over time, or an initial population selection effect, ChatGPT produced
this list:</p>
<blockquote>
<h3 id="relaxation-toward-equilibrium">1. Relaxation Toward
Equilibrium</h3>
<ul>
<li><strong>Thermal equilibration:</strong> An object's temperature
rises or falls toward the surrounding temperature after a
disturbance.</li>
<li><strong>Electrical relaxation:</strong> The voltage across a
capacitor approaches its final value after connection to a circuit.</li>
<li><strong>Material stress relaxation:</strong> A stretched or
compressed material gradually settles toward its resting shape.</li>
</ul>
<h3 id="diminishing-returns-or-performance-plateau">2. Diminishing
Returns or Performance Plateau</h3>
<ul>
<li><strong>Learning and practice effects:</strong> Improvement in skill
or accuracy slows as performance nears its upper limit.</li>
<li><strong>Chemical reaction completion:</strong> Product formation
slows as reactants are nearly consumed.</li>
<li><strong>Battery charging:</strong> Charge or voltage approaches a
final level as current decreases over time.</li>
</ul>
<h3 id="saturation-under-physical-or-transport-limits">3. Saturation
Under Physical or Transport Limits</h3>
<ul>
<li><strong>Gas or solute diffusion:</strong> Concentration inside a
solid or liquid approaches a maximum as diffusion slows.</li>
<li><strong>Soil infiltration:</strong> The rate of water entry declines
as the soil nears saturation.</li>
<li><strong>Oxygen uptake in tissue:</strong> The amount absorbed levels
off as diffusion gradients diminish.</li>
</ul>
<h3 id="selective-or-attritional-stabilization">4. Selective or
Attritional Stabilization</h3>
<ul>
<li><strong>Cohort survival:</strong> After early deaths of frail
individuals, survival probability rises toward a stable level.</li>
<li><strong>Reliability testing:</strong> Failure rate decreases as
weaker devices fail first and only robust ones remain.</li>
<li><strong>Population health selection:</strong> The average fitness of
survivors stabilizes after early attrition.</li>
</ul>
<h3 id="instrumental-and-measurement-settling">5. Instrumental and
Measurement Settling</h3>
<ul>
<li><strong>Sensor stabilization:</strong> A sensor's reading approaches
a constant value after power-up.</li>
<li><strong>Filter or detector response:</strong> The output of an
instrument following a step input settles toward its final reading.</li>
<li><strong>Thermal or electronic drift correction:</strong> A
measurement system gradually reaches a stable baseline after initial
fluctuation.</li>
</ul>
</blockquote>
<p>I don't see how harm caused by vaccines could fall under any of the 5
categories listed above.</p>
<p>The healthy vaccinee effect doesn't really fit into any category
either, even though it's akin to the inverse of the examples listed
under the 4th category of <span class="quote">"selective or attritional
stabilization"</span>. All examples under the 4th category were
formulated as a probability of survival after initial attrition, similar
to how the survival probability of unvaccinated people increases over
time as the straggler effect wears out. But it's not really comparable
to HVE, which could rather be characterized as an increasing risk of
failure in a population that was initially selected to include members
with a low risk of failure, but where over time new members develop a
high risk of failure. You pointed out how the Mirror of Erised paper
said: <span class="quote">"the risk of death from non-COVID causes was
up to five times lower among vaccinated individuals during periods with
negligible COVID-19 mortality"</span>. They referred to Figure 1 and
Figure 2, which showed people born in 1940-1949 only. In other age
groups the peak ratio between unvaccinated and vaccinated mortality was
not as high.</p>
<h2>
<a href=#5_fold_static_HVE_in_Mirror_of_Erised_paper id=5_fold_static_HVE_in_Mirror_of_Erised_paper>5-fold
static HVE in Mirror of Erised paper</a>
</h2>
<p>Kirsch wrote that the paper about the Czech FOI data showed that
there was an up to 5-fold <span class="quote">"static healthy vaccinee
effect"</span>:
[<a href=https://kirschsubstack.com/p/the-czech-republic-dataset-provides>https://kirschsubstack.com/p/the-czech-republic-dataset-provides</a>]</p>
<div>
<img src=i/rootclaim-erisedheat-2.webp width=600>
</div>
<p>Jeffrey Morris coined the terms <span class="quote">"temporal"</span>
and <span class="quote">"inherent"</span> HVE, which he later renamed to
<span class="quote">"time-varying"</span> and <span
class="quote">"time-invariant"</span> HVE. Kirsch seems to employ the
terms <span class="quote">"dynamic"</span> and <span
class="quote">"static"</span> HVE as synonyms for the terms coined by
Morris. The inherent/time-invariant/static HVE refers to the plateau
level of HVE after the initial temporal/time-varying/dynamic HVE has
worn off.</p>
<p>However in the Mirror of Erised paper, the ratio between unvaccinated
and vaccinated mortality reached close to 5 only temporarily around
April to June 2021, when the first dose was rolled out. So the 5-fold
difference was attributable to <span class="quote">"dynamic HVE"</span>
and not <span class="quote">"static HVE"</span>:
[<a href=https://bmcpublichealth.biomedcentral.com/articles/10.1186/s12889-025-23619-x/figures/1>https://bmcpublichealth.biomedcentral.com/articles/10.1186/s12889-025-23619-x/figures/1</a>]</p>
<div>
<img src=i/rootclaim-erisedheat-3.webp width=700>
</div>
<p>In the heatmap below if you exclude cells that have a wide confidence
interval due to a small sample size, the only cell where the ratio
between unvaccinated and vaccinated mortality is above 5 is the cell for
ages 60-69 in May 2021. And if you look at the bottom row which shows
all ages combined, the highest monthly ratio is about 3.2 in May 2021,
and the total ratio in 2021-2022 is about 2.1:</p>
<div>
<img src=i/rootclaim-erisedheat.webp width=700>
</div>
<div class="spoiler">
<button>
Show code
</button>
<pre>t=fread(&quot;https://sars2.net/f/czbuckets.csv.gz&quot;)

a=t[,.(dead=sum(dead),pop=sum(alive)),.(month,dose=pmin(dose,1),age)]
a=a[!month%like%2020]
a[,base:=a[,sum(dead)/sum(pop),age]$V1[age+1]*pop]
a=a[,.(pop=sum(pop),dead=sum(dead),base=sum(base)),.(month,dose,age=agecut(age,c(0,2:9*10)))]

a=rbind(a,a[,.(pop=sum(pop),dead=sum(dead),base=sum(base),month=&quot;Total&quot;),.(dose,age)])
a=rbind(a,a[,.(pop=sum(pop),dead=sum(dead),base=sum(base),age=&quot;Total&quot;),.(dose,month)])

p=a[,.(ratio=dead[dose==0]/base[dose==0]/dead[dose==1]*base[dose==1]),.(age,month)]

m=p[,tapply(ratio,.(age,month),c)]
m[m==Inf]=NA
disp=m;disp[]=sprintf(&quot;%.1f&quot;,disp)
m=ifelse(m&gt;=1,m-1,-1/m+1)

exp=.8;m=abs(m)^exp*sign(m)
maxcolor=5^exp;m[is.infinite(m)]=-maxcolor

pheatmap::pheatmap(m,filename=&quot;i1.png&quot;,display_numbers=disp,
  gaps_col=ncol(m)-1,gaps_row=nrow(m)-1,
  cluster_rows=F,cluster_cols=F,legend=F,cellwidth=16,cellheight=14,fontsize=9,fontsize_number=8,
  border_color=NA,na_col=&quot;gray90&quot;,
  number_color=ifelse((abs(m)&gt;.55*maxcolor)&amp;!is.na(m),&quot;white&quot;,&quot;black&quot;),
  breaks=seq(-maxcolor,maxcolor,,256),
  colorRampPalette(hsv(rep(c(7/12,0),5:4),c(.9,.75,.6,.3,0,.3,.6,.75,.9),c(.4,.65,1,1,1,1,1,.65,.4)))(256))

system(&quot;mogrify -trim i1.png;w=`identify -format %w i1.png`;magick \\( -pointsize 45 -font Arial-Bold -size $[w]x caption:&#39;Czech FOI data: Unvaccinated-vaccinated mortality ratio normalized for age&#39; \\) -interline-spacing -3 -pointsize 38 -font Arial \\( -size $[w]x caption:&#39;The shown ratio was calculated as `(unvaccinated_dead / unvaccinated_expected) / (vaccinated_dead / vaccinated_expected)`, where the expected deaths were calculated by multiplying the number of person-days for each single year of age by the total mortality rate for the age in 2021-2022.&#39; -gravity southwest -splice x10 \\) i1.png -append -trim -bordercolor white -border 16 1.png&quot;)</pre>
</div>
<script>
document.querySelectorAll('pre').forEach(e=>e.innerHTML=e.innerHTML.replace(/((^| )# [^\n]*|^#$)/mg,"<span class=comment>$1</span>"))

const walker=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,null,false)
const nodes=[]
while(walker.nextNode())nodes.push(walker.currentNode)
nodes.forEach(node=>{
  const text=node.textContent
  if(text.split(/\s+/).some(piece=>piece.length>=20)||/\w{60}/.test(text)){
    const frag=document.createDocumentFragment()
    text.split(/([A-Za-z0-9]{60}|[\041-\057\072-\100\133-\140\173-\176])/g).forEach(part=>{
      if(part){
        frag.appendChild(document.createTextNode(part))
        if(/^[A-Za-z0-9]{60}$/.test(part)||/^[\041-\057\072-\100\133-\140\173-\176]$/.test(part))
          frag.appendChild(document.createElement('wbr'))
      }
    })
    node.parentNode.replaceChild(frag,node)
  }
})

document.querySelectorAll('.spoiler button').forEach(x=>{x.addEventListener('click',function(){
  let block=this.nextElementSibling
  if(window.getComputedStyle(block).display=='none'){block.style.display='block';this.textContent='Hide code'}
  else{block.style.display='none';this.textContent='Show code'}
})})
</script>
